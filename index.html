<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Sitemap Generator for WP Engine SPM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:ital,wght@0,400;0,500;0,600;1,500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>SPM Custom Sitemap Generator</h1>
            <p>Take control of which pages get tested during plugin updates. Instead of random page selection, you choose exactly which pages Smart Plugin Manager checks to ensure your most critical pages are always protected during automatic updates.</p>
        </div>

        <div class="docs-section">
            <h3>Smart Plugin Manager documentation</h3>
            <p>Learn more about how SPM works with custom sitemaps and visual regression testing:</p>
            <div class="docs-links">
                <a href="https://wpengine.com/support/smart-plugin-manager/#Sitemap_Override" target="_blank" rel="noopener" class="doc-link">
                    <div class="doc-link-title">Sitemap Override</div>
                    <div class="doc-link-desc">How to configure custom sitemaps in SPM settings</div>
                </a>
                <a href="https://wpengine.com/support/smart-plugin-manager/#Visual_Regression_Testing_VRT" target="_blank" rel="noopener" class="doc-link">
                    <div class="doc-link-title">Visual Regression Testing</div>
                    <div class="doc-link-desc">Understanding how SPM tests your pages for changes</div>
                </a>
                <a href="https://wpengine.com/support/smart-plugin-manager/#Smart_Plugin_Manager_Settings" target="_blank" rel="noopener" class="doc-link">
                    <div class="doc-link-title">SPM Settings</div>
                    <div class="doc-link-desc">Complete guide to configuring Smart Plugin Manager</div>
                </a>
                <a href="https://wpengine.com/support/smart-plugin-manager/" target="_blank" rel="noopener" class="doc-link">
                    <div class="doc-link-title">SPM Overview</div>
                    <div class="doc-link-desc">Full Smart Plugin Manager documentation</div>
                </a>
            </div>
        </div>

        <div class="info-section">
            <h3>How SPM uses your custom sitemap</h3>
            <p>Smart Plugin Manager's visual regression testing helps ensure plugin updates don't break your site by taking before and after screenshots of your pages.</p>
            <ul>
                <li><strong>Default behavior:</strong> SPM tests 10 random pages including your homepage</li>
                <li><strong>With custom sitemap:</strong> SPM selects up to 20 URLs from your sitemap (always including homepage)</li>
                <li><strong>Random selection:</strong> If your sitemap has more than 20 URLs, SPM will test your homepage plus 19 random pages from your sitemap</li>
                <li><strong>Minimum recommendation:</strong> Include at least 10 URLs to ensure SPM tests your most important pages</li>
                <li><strong>Best practice:</strong> Add your most critical pages (checkout, contact forms, key landing pages) to increase the likelihood they'll be tested</li>
            </ul>
        </div>

        <div class="card">
            <div class="input-section">
                <h3>Add URLs to your custom sitemap</h3>
                <div class="url-input-container">
                    <input 
                        type="text" 
                        id="urlInput" 
                        class="url-input" 
                        placeholder="https://example.com/important-page"
                        autocomplete="off"
                    >
                    <button type="button" onclick="addUrl()" class="btn btn-primary">Add URL</button>
                </div>
                <div id="messageContainer"></div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="urlCount">0</div>
                    <div class="stat-label">URLs Added</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="sitemapSize">0 KB</div>
                    <div class="stat-label">Sitemap Size</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="spmCoverage">0%</div>
                    <div class="stat-label">SPM Coverage</div>
                </div>
            </div>

            <div class="url-list" id="urlList"></div>

            <div class="actions">
                <button type="button" onclick="generateSitemap()" class="btn btn-secondary" id="generateBtn" disabled>
                    Generate & Download Sitemap
                </button>
                <button type="button" onclick="clearAll()" class="btn btn-danger" id="clearBtn" disabled>
                    Clear All URLs
                </button>
            </div>
        </div>

        <div class="brand-footer">
            <p>Built by <span class="logo">Matt Selby</span> for WP Engine Smart Plugin Manager</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>